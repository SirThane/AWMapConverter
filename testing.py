from awmap import AWMap


# def bread(infile='TestFiles\\key_unit.aws'):
#     with open(infile, 'rb') as bin_file:
#         return AWMap().from_aws(bin_file.read())


# newmap = bread()


newmap = AWMap().from_awbw("""
2,2,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,2,2
2,28,28,30,30,30,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,30,30,30,28,28,2
28,28,28,42,1,34,28,28,28,28,28,28,28,28,30,30,28,28,28,28,28,28,28,28,34,1,47,28,28,28
28,28,2,2,1,1,28,28,28,33,33,28,28,28,3,3,28,28,28,33,33,28,28,28,1,1,2,2,28,28
28,28,34,1,1,1,39,28,28,28,28,28,28,34,1,1,34,28,28,28,28,28,28,44,1,1,1,34,28,28
28,28,28,28,28,39,1,1,28,28,28,28,34,1,1,1,1,34,28,28,28,28,1,1,44,28,28,28,28,28
28,28,28,28,28,28,1,21,15,15,15,15,15,15,15,15,15,15,15,15,15,15,20,1,28,28,28,28,28,28
28,28,28,28,28,28,28,41,28,28,28,28,16,28,28,28,28,16,28,28,28,28,46,28,28,28,28,28,28,28
1,1,1,32,28,28,28,28,28,28,28,28,16,28,28,28,28,16,28,28,28,28,28,28,28,28,31,1,1,1
35,1,1,32,28,28,28,28,28,33,28,28,3,3,36,36,3,3,28,28,33,28,28,28,28,28,31,1,1,35
35,1,1,32,28,28,28,28,28,33,28,28,3,3,36,36,3,3,28,28,33,28,28,28,28,28,31,1,1,35
1,1,1,32,28,28,28,28,28,28,28,28,16,28,28,28,28,16,28,28,28,28,28,28,28,28,31,1,1,1
28,28,28,28,28,28,28,99,28,28,28,28,16,28,28,28,28,16,28,28,28,28,56,28,28,28,28,28,28,28
28,28,28,28,28,28,1,18,15,15,15,15,15,15,15,15,15,15,15,15,15,15,19,1,28,28,28,28,28,28
28,28,28,28,28,97,1,1,28,28,28,28,34,1,1,1,1,34,28,28,28,28,1,1,54,28,28,28,28,28
28,28,34,1,1,1,97,28,28,28,28,28,28,34,1,1,34,28,28,28,28,28,28,54,1,1,1,34,28,28
28,28,2,2,1,1,28,28,28,33,33,28,28,28,3,3,28,28,28,33,33,28,28,28,1,1,2,2,28,28
28,28,28,100,1,34,28,28,28,28,28,28,28,28,29,29,28,28,28,28,28,28,28,28,34,1,57,28,28,28
2,28,28,29,29,29,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,28,28,2
2,2,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,2,2
""")


# with open(f"{awmap.title}.txt", 'w') as outfile:
#     outfile.write(awmap.to_awbw())

# print('\n'.join(['\n'.join([f"Coord: {(x, y)} ;; "
#                             f"AWTile:{(awmap.tile(x, y).x, awmap.tile(x, y).y)} ;; "
#                             f"Terr: {awmap.tile(x, y).terr_name}"
#                             for x in range(awmap.size_w)])
#                  for y in range(awmap.size_h)]))

# print(awmap.size_h, awmap.size_w)

# print(awmap.map)

# with open("test.gif", "wb") as out_file:
#     out_file.write(newmap.minimap)

# print(newmap)

# with open("TestFiles\\BHTestWrite.aws", "wb") as out_file:
#     out_file.write(newmap.to_aws)

# print(newmap.to_awbw)

newmap.minimap.save("TestFiles\\1006.gif", save_all=True)
